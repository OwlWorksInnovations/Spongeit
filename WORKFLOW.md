# **Project Plan: spongeit (MOST OF THIS WAS GENERATED BY CHATGPT TO SAVE TIME)**
*A CLI tool for remote code execution via SFTP and Docker*

## **1. Overview**

**spongeit** allows users to offload code compilation and execution to a remote server. It transfers project files via SFTP, builds them inside a Docker container, and retrieves the results.

### **Key Features**
* Supports multiple languages (`cpp`, `py`, `rust`, etc.).
* Uses SFTP for secure file transfer.
* Runs builds in isolated Docker containers.
* Returns compiled binaries or execution output.
* CLI interface with customizable options.

## **2. System Architecture**

### **Client (Laptop/Remote PC)**
* CLI tool (`spongeit`)
* Sends project files via SFTP
* Triggers the build process on the server
* Downloads results after completion

### **Server (Ubuntu Server)**
* Listens for incoming SFTP transfers
* Runs Docker containers for isolated builds
* Sends back compiled binaries or execution output
* Logs and error handling

## **3. CLI Design**

Command usage:

```sh
spongeit -l <language> -d <local_project_path> -ip <server_ip> -p <port> -pass <password>
```

### **CLI Options**

| Option | Description | Default |
|--------|-------------|---------|
| `-l` | Language (`cpp`, `py`, `rust`, etc.) | Required |
| `-d` | Local project directory | Required |
| `-ip` | Server IP address | Required |
| `-p` | SFTP port | 192 |
| `-pass` | SFTP password (or SSH key alternative) | Required |

## **4. Workflow**

1. **Client:** Sends files to the server using SFTP.
2. **Server:** Detects new files and selects the correct Docker container.
3. **Docker Build:**
   * C++ (`cpp`): `make`
   * Python (`py`): `python <file>`
   * Rust (`rust`): `cargo build --release`
4. **Server:** Transfers back the output files to the client.
5. **Client:** Retrieves and stores the results.

## **5. Implementation Plan**

### **Phase 1: Basic File Transfer**
❌ Implement CLI tool to send/receive files via SFTP.
❌ Server listens for SFTP connections.

### **Phase 2: Build Execution**
❌ Server detects incoming files and runs a build script.
❌ Implement language-specific build logic.

### **Phase 3: Docker Integration**
❌ Set up Docker containers for different languages.
❌ Ensure isolated builds inside containers.

### **Phase 4: Optimization & Security**
❌ Add SSH key authentication support.
❌ Implement caching for dependency-heavy languages (e.g., Rust).
❌ Improve logging & error handling.

## **6. Docker Container Setup**

### **C++ (Dockerfile)**
```dockerfile
FROM ubuntu:latest
RUN apt update && apt install -y build-essential
WORKDIR /build
CMD ["make"]
```

### **Rust (Dockerfile)**
```dockerfile
FROM rust:latest
WORKDIR /build
CMD ["cargo", "build", "--release"]
```

### **Python (Dockerfile)**
```dockerfile
FROM python:latest
WORKDIR /build
CMD ["python", "main.py"]
```

## **7. Next Steps**
* Implement Phase 1: Basic CLI and SFTP transfer.
* Set up the server to listen for SFTP uploads.
* Develop build scripts to handle different languages.
* Integrate Docker for isolated builds.
* Test, optimize, and improve security.
